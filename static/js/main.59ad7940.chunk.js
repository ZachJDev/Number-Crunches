(this["webpackJsonpreact-math-trainer"]=this["webpackJsonpreact-math-trainer"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"default",(function(){return y})),a.d(n,"Normal",(function(){return E})),a.d(n,"MultiplicationTables",(function(){return k})),a.d(n,"Blitz",(function(){return N})),a.d(n,"Zen",(function(){return j}));var r=a(0),s=a.n(r),i=a(23),o=a.n(i),c=(a(29),a(30),a(1)),l=a(2),m=a(4),u=a(3),h=a(14),p=a(18),d=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.handleChange(t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.props.radios.map((function(t){return s.a.createElement("div",{key:t.id,className:e.props.radioClass},s.a.createElement("input",{onChange:e.handleChange,type:"radio",name:e.props.name,value:t.id,id:t.id,checked:t.id===e.props.checked,disabled:e.props.disabled}),s.a.createElement("label",{htmlFor:t.id},t.id))}))}}]),a}(r.Component),b=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.handleChange(t.target.value)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.props.boxes.map((function(t){return s.a.createElement("div",{key:t},s.a.createElement("input",{type:"checkbox",id:t,name:t,value:t,onChange:e.handleChange,checked:e.props.checked.includes(t),disabled:!e.props.enabledList.includes(t)}),s.a.createElement("label",{htmlFor:t},t))})))}}]),a}(r.Component),f=a(15),v=function(e){return e[Math.floor(Math.random()*e.length)]},g=function e(){Object(c.a)(this,e),this.max=10,this.min=1,this.startTime=10,this.totalProblems=50,this.practice=!1,this.hasNumProbs=!1,this.hasStartClock=!1,this.allowedSigns=["+","-","\xd7","/"]},O=function(){function e(t){Object(c.a)(this,e),Object.assign(this,t),this.hasTimer=!this.practice,this.bonus=2,this.ticks=!0,this.clockDirection=1,this.hasSkip=!0,this.challengeIncrease=0,this.max=Number(this.max),this.min=Number(this.min),this.hasScore=!0}return Object(l.a)(e,[{key:"compute",value:function(e,t,a){return"\xd7"===a?e*t:"+"===a?e+t:"-"===a?e-t:"/"===a?e/t:void 0}},{key:"getRandomInt",value:function(){return Math.floor(Math.random()*(this.max-this.min+1)+this.min)}},{key:"getNewProblem",value:function(){var e,t,a=v(this.signs);do{var n=this.getNewNumbers(),r=Object(f.a)(n,2);e=r[0],t=r[1]}while("/"===a&&0===t);return[e,t,a]}},{key:"getNewNumbers",value:function(){return[this.getRandomInt(),this.getRandomInt()]}},{key:"isFinished",value:function(){return!1}},{key:"increaseChallenge",value:function(){this.max+=this.challengeIncrease}},{key:"computeScore",value:function(e){var t=e.timeTaken,a=e.problem,n=a.num1,r=a.num2,s=a.sign;if(""===s)return 0;var i,o="/"===(i=s)?.5:"*"===i?.3:0,c=10/(t/1e3*2);if(0===n||0===r)return.5*c;var l=.5+(Math.log(n)+Math.log(r));return Math.floor(c*(l+o))}}],[{key:"newGame",value:function(e){switch(e.mode){case"Normal":return new E(e);case"Blitz":return new N(e);case"Zen":return new j(e);case"Multiplication Tables":return new k(e);default:return new E(e)}}}]),e}(),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).challengeIncrease=5,n}return Object(l.a)(a,null,[{key:"getDefaultRules",value:function(){return Object.assign(new g,{id:"Normal",hasPractice:!0,description:"Every correct answer adds more time to the clock, but be careful! The problems get harder the longer you  last.",hasStartClock:!0})}}]),a}(O),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).initGame(),n.clockDirection=1,n.hasSkip=!1,n}return Object(l.a)(a,[{key:"initGame",value:function(){this.table=[],this.problem=0;for(var e=this.min;e<=this.max;e++)for(var t=this.min;t<=this.max;t++)this.table.push([e,t])}},{key:"getNewNumbers",value:function(){var e;return e=this.inOrder?this.table[0]:v(this.table),this.table=this.table.filter((function(t){return t!==e})),e}},{key:"isFinished",value:function(){return this.problem===this.table.length&&(this.initGame(),!0)}}],[{key:"getDefaultRules",value:function(){return Object.assign(new g,{id:"Multiplication Tables",ticks:!0,hasPractice:!0,description:"Like Normal mode, but let's you focus just on multiplication tables.",allowedSigns:["\xd7"],hasStartClock:!0})}}]),a}(O),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).hasTimer=!1,n}return Object(l.a)(a,null,[{key:"getDefaultRules",value:function(){return Object.assign(new g,{id:"Zen",description:"Chill out with some music and endless math problems."})}}]),a}(O),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).clockDirection=-1,n.startTime=0,n.bonus=0,n}return Object(l.a)(a,[{key:"isFinished",value:function(e){return e.toString()===this.totalProblems}}],[{key:"getDefaultRules",value:function(){return Object.assign(new g,{id:"Blitz",problemCount:!0,description:"Solve a set number of problems as fast as you can!",hasNumProbs:!0})}}]),a}(O),y=O,C=(a(31),{});Object.keys(n).forEach((function(e){if(n[e].getDefaultRules){var t=n[e].getDefaultRules();C[t.id]=t}}));var S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleCanStart=function(e){return Number(e.min)<=Number(e.max)&&e.signs.length>0},n.handleSubmit=function(e){e.preventDefault(),n.state.canStart&&(n.setState({id:n.state.mode}),n.props.handleOptions(n.state))},n.handleChange=function(e){if("practice"===e.target.name){var t=n.state.practice;n.setState(Object(p.a)({},e.target.name,!t))}else n.setState(Object(p.a)({},e.target.name,e.target.value)),n.setState((function(e){return{canStart:n.handleCanStart(e)}}));"Multiplication Tables"===e.target.value&&n.setState({signs:["\xd7"]})},n.handleCheckboxChange=function(e){var t=n.state.signs;t.includes(e)?t=t.filter((function(t){return t!==e})):t.push(e),n.setState({signs:t},(function(){n.setState((function(e){return{canStart:n.handleCanStart(e)}}))}))},n.state={mode:"Normal",signs:["+","-"],canStart:!0},Object.assign(n.state,C.Normal),n.radios=Object(h.a)(Object.values(C)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=C[this.state.mode].hasPractice?"":"disabled",t=C[this.state.mode].hasNumProbs?"":"disabled",a=C[this.state.mode].hasStartClock?"":"disabled",n=C[this.state.mode].allowedSigns.length>1?"":"disabled",r=Number(this.state.min)>Number(this.state.max)?s.a.createElement("p",null,"Min must not be higher than max."):"",i=0===this.state.signs.length?s.a.createElement("p",null,"Must have a sign selected."):"",o=s.a.createElement("div",{className:"warning"},r," ",i),c="button start-button "+(this.state.canStart?"":"disabled");return s.a.createElement("div",{className:"options"},s.a.createElement("form",{onSubmit:this.handleSubmit,className:"options-form"},s.a.createElement("div",{className:"mode-select"},s.a.createElement(d,{name:"mode",radios:this.radios,handleChange:this.handleChange,checked:this.state.mode,radioClass:"mode"})),s.a.createElement("div",{className:"mode-options"},s.a.createElement("div",{className:"mode-info"},s.a.createElement("h1",{className:"mode-title"},this.state.mode),s.a.createElement("div",{className:"mode-desc-box"},s.a.createElement("p",{className:"mode-desc"},C[this.state.mode].description))),s.a.createElement("div",{className:"mode-options-body"},s.a.createElement("div",{className:"mode-options-col"},s.a.createElement("div",{className:"mode-max-min"},s.a.createElement("div",{className:"mode-max"},s.a.createElement("h2",{id:"range",className:"form-area-label"},"Range "),s.a.createElement("label",{htmlFor:"max"},"Max:"),s.a.createElement("input",{type:"number",name:"max",value:this.state.max,onChange:this.handleChange})),s.a.createElement("div",{className:"mode-min"},s.a.createElement("label",{htmlFor:"min"},"Min:"),s.a.createElement("input",{type:"number",name:"min",value:this.state.min,onChange:this.handleChange}))),s.a.createElement("div",{className:"mode-signs"},s.a.createElement("h2",{className:"".concat(n," form-area-label")},"Choose Signs"),s.a.createElement(b,{boxes:["+","-","\xd7","/"],checked:this.state.signs,handleChange:this.handleCheckboxChange,enabledList:C[this.state.mode].allowedSigns})),s.a.createElement("div",null,s.a.createElement("h2",{className:"".concat(t," form-area-label")},"Number of Problems"),s.a.createElement("input",{type:"number",name:"totalProblems",min:1,value:this.state.totalProblems,onChange:this.handleChange,disabled:!C[this.state.mode].hasNumProbs})),s.a.createElement("div",null,s.a.createElement("h2",{className:"".concat(e," form-area-label")},"Practice Mode"),s.a.createElement(d,{handleChange:this.handleChange,name:"practice",radios:[{id:"On"},{id:"Off"}],checked:!0===this.state.practice?"On":"Off",disabled:!C[this.state.mode].hasPractice})),s.a.createElement("div",null,s.a.createElement("h2",{className:"".concat(a," form-area-label")},"Seconds on Clock"),s.a.createElement("input",{type:"number",value:this.state.startTime,name:"startTime",min:2,onChange:this.handleChange,disabled:!C[this.state.mode].hasStartClock}))),s.a.createElement("div",{className:"start-warning"},s.a.createElement("input",{className:c,type:"submit",value:"Start"}),o)))))}}]),a}(r.Component),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleRestart=function(){n.props.restart()},n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.solved,n=t.timeElapsed,r=a>=t.goal?"Great Job!":"Keep trying!";if(n>=60){var i=Math.floor(n/60),o=n%60;e="".concat(i," minute").concat(i>1?"s":"").concat(o>0?" and ".concat(o," second").concat(o>1?"s":""):"")}else e="".concat(n," seconds");return s.a.createElement("div",null,s.a.createElement("h1",null,"You solved ".concat(a," problems in ").concat(e," and scored ").concat(this.props.score," points!")),s.a.createElement("h2",null,r),s.a.createElement("button",{className:"button",onClick:this.handleRestart},"Try again?"))}}]),a}(r.Component),T=(a(32),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.num1,a=e.num2,n=e.sign,r=e.mode;return s.a.createElement("div",{className:" ".concat(r," problem-wrap")},s.a.createElement("div",{className:" problem"},s.a.createElement("span",null,t," ",n," ",a," =")),this.props.children)}}]),a}(r.Component)),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"problem-list"},this.props.problems.map((function(t,a){return s.a.createElement("span",{className:"".concat(e.props.mode," problem"),key:a},t)})))}}]),a}(r.Component),P=(a(33),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleInput=function(t){t.preventDefault(),e.props.handleInput(t.target.value)},e.handleUpdateProblem=function(){e.props.isGameOver?e.props.handleRestart():e.props.updateProblem(!0)},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"input"},s.a.createElement("input",{className:"answer",type:"text",onChange:this.handleInput,value:this.props.input,autoFocus:!0}),this.props.hasSkip?s.a.createElement("button",{className:"skip-button button",onClick:this.handleUpdateProblem},this.props.isGameOver?"restart":"skip"):null)}}]),a}(r.Component)),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,this.props.time))}}]),a}(r.Component),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleInput=function(t){e.props.handleInput(t)},e.updateProblem=function(){e.props.updateProblem(!0)},e.handleRestart=function(){e.props.restart()},e.goToOptions=function(){e.props.handleOptions()},e}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.props.problem,a=t.num1,n=t.num2,r=t.answer,i=t.sign,o=this.props,c=o.input,l=o.mode,m=o.isGameOver,u=o.timeLeft,h=o.timeTaken,p=o.problems,d=o.hasSkip,b=o.practice;return e="Zen"===l||b?null:m?s.a.createElement(w,{score:this.props.score||"blug",solved:p.length,timeElapsed:h,goal:3,restart:this.handleRestart,goHome:this.handleOptions}):s.a.createElement(x,{time:u||h||0}),s.a.createElement("div",{className:"game-area"},"Zen"===l?s.a.createElement(G,{mode:l,problems:p}):null,e,u>0||!m?s.a.createElement(T,{mode:l,num1:a,num2:n,answer:r,sign:i,probNum:p.length+1},s.a.createElement(P,{handleInput:this.handleInput,updateProblem:this.updateProblem,input:c,restart:this.handleRestart,hasSkip:d,isGameOver:0===u})):null,s.a.createElement("button",{className:"button options-button",onClick:this.goToOptions},"Select a new mode"))}}]),a}(r.Component),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("iframe",{className:"video ".concat(this.props.mode),src:this.props.url,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video"}))}}]),a}(r.Component),R=(a(34),a(35),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).updateProblem=function(e){var t,a=n.Game.getNewProblem(),r=Object(f.a)(a,3),s=r[0],i=r[1],o=r[2];if("/"===o&&0!==s){var c=s;t=i,s=s*i,i=c}else t=n.Game.compute(s,i,o);e||n.setState((function(e){return{score:n.Game.hasScore&&e.score+(n.Game.computeScore({timeTaken:Date.now()-e.lastAnswerTime,problem:e.problem})||0),lastAnswerTime:Date.now(),timeLeft:e.timeLeft+n.Game.bonus}})),n.setState({problem:{num1:s,num2:i,answer:t,sign:o},input:""})},n.handleInput=function(e){var t=n.state.problem,a=t.num1,r=t.num2,s=t.sign,i=t.answer;n.setState({input:e}),n.state.problem.answer==e&&n.setState({problems:[].concat(Object(h.a)(n.state.problems),["".concat(a," ").concat(s," ").concat(r," = ").concat(i)])},(function(){n.Game.isFinished(n.state.problems.length)?n.endGame():(n.state.problems.length%5===0&&n.Game.increaseChallenge(),n.updateProblem())}))},n.endGame=function(){clearInterval(n.state.timerTimeLeft),clearInterval(n.state.timerTimeTaken),n.setState((function(e){return{isGameOver:!0,timeLeft:0,timeTaken:e.timeTaken+1}}))},n.tickTimer=function(){n.state.timeLeft>1?n.setState((function(e){return{timeLeft:e.timeLeft-1}})):1===n.state.timeLeft&&n.endGame()},n.restart=function(){n.updateProblem(),n.setState({isGameOver:!1,problems:[]}),n.Game.hasTimer&&n.setState({timeLeft:n.Game.startTime,timeTaken:0,timerTimeLeft:setInterval((function(){n.tickTimer()}),1e3),timerTimeTaken:setInterval((function(){n.setState((function(e){return{timeTaken:e.timeTaken+1}}))}),1e3)})},n.goToOptions=function(){n.props.handleRestart(),n.props.history.push("/Math-Trainer/options",{isGameOver:!0})};var r=n.props.options.length>0?n.props.options:n.props.history.location.state.options;return n.Game=y.newGame(r),n.state={score:0,lastAnswerTime:Date.now()+3e3,practice:n.Game.practice,problem:{num1:0,num2:0,sign:""},input:"",timeLeft:n.Game.hasTimer||!n.Game.practice||n.Game.startTime,isGameOver:!0,problems:[],preGameTime:3},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;"Zen"===this.Game.mode?this.restart():this.setState({timerPreGame:setInterval((function(){e.setState((function(e){return{preGameTime:e.preGameTime-1}})),e.state.preGameTime<1&&(e.restart(),clearInterval(e.state.timerPreGame))}),1e3)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timerTimeLeft),clearInterval(this.state.timerTimeTaken)}},{key:"render",value:function(){return s.a.createElement("div",{className:"".concat(this.Game.mode)},"Zen"!==this.Game.mode&&this.state.preGameTime>0?s.a.createElement("h2",{className:"pre-timer"},this.state.preGameTime):s.a.createElement(I,Object.assign({},this.state,{hasSkip:this.Game.hasSkip,mode:this.Game.mode,updateProblem:this.updateProblem,handleInput:this.handleInput,handleOptions:this.goToOptions,restart:this.restart})),"Zen"===this.Game.mode?s.a.createElement(M,{url:"https://www.youtube.com/embed/jfKfPfyJRdk?autoplay=1",mode:this.Game.mode}):null)}}]),a}(r.Component)),L=a(5),D=(a(36),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleOptions=function(e){n.setState({isGameOver:!1,options:e},(function(){n.props.history.push("/Number-Crunches/".concat(e.mode),n.state)}))},n.handleRestart=function(){n.setState({isGameOver:!0,options:{}})},n.state={isGameOver:!0,options:{}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title-div"},s.a.createElement("h1",{className:"title"},"Number Crunches: A Mental Math Workout")),s.a.createElement(L.d,null,s.a.createElement(L.b,{path:"/Number-Crunches/options",exact:!0,render:function(t){return s.a.createElement(S,Object.assign({},t,{handleOptions:e.handleOptions}))}}),s.a.createElement(L.b,{path:["/Number-Crunches/Normal","/Number-Crunches/Zen","/Number-Crunches/Blitz","/Number-Crunches/Multiplication Tables"],exact:!0,render:function(t){return s.a.createElement(R,Object.assign({},t,{options:e.state.options,handleRestart:e.handleRestart}))}}),s.a.createElement(L.b,{to:"",render:function(){return s.a.createElement(L.a,{to:"/Number-Crunches/options"})}})))}}]),a}(r.Component)),F=a(17);var A=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(F.a,null,s.a.createElement(L.b,{path:"/",render:function(e){return s.a.createElement(D,e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.59ad7940.chunk.js.map